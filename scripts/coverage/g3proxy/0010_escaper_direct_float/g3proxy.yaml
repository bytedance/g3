---

log: journal

resolver:
  - name: default
    type: c-ares
    server:
      - 127.0.0.1

escaper:
  - name: direct_lazy
    type: direct_float
    resolver: default
    resolve_strategy: IPv4First
    egress_net_filter:
      default: allow
      allow: 127.0.0.1

server:
  - name: http
    type: http_proxy
    listen: 127.0.0.1:8080
    escaper: direct_lazy
  - name: socks1
    type: socks_proxy
    listen: 127.0.0.1:1080
    escaper: direct_lazy
  - name: socks2
    type: socks_proxy
    listen: 127.0.0.1:1081
    escaper: direct_lazy
    use-udp-associate: true
